<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>elements.css Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Manrope:wght@400;500;600;700&family=Recursive:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/elements.css" type="text/css" media="all">
    <style>
      #contrast-details { width: max-content; max-width: none; }
      #contrast-details table { white-space: nowrap; }
    </style>
  </head>
  <body>
    <aside class="fixed-left w-80 border-r bg-ancillary p-lg flex flex-col gap-sm">
      <h2>Customize</h2>

      <select id="presets">
        <option value="">Presets</option>
        <option value="default">Default</option>
        <option value="slate">Slate</option>
        <option value="ocean">Ocean</option>
        <option value="forest">Forest</option>
        <option value="midnight">Midnight</option>
        <option value="carbon">Carbon</option>
        <option value="cream">Cream</option>
        <option value="noir">Noir</option>
      </select>
      <select id="font-family">
        <option value="'Inter'">Inter</option>
        <option value="'Manrope'">Manrope</option>
        <option value="'Libre Baskerville'">Libre Baskerville</option>
        <option value="'Recursive'">Recursive</option>
      </select>
      <div class="flex gap-sm">
        <button id="randomize" class="flex-1">Random</button>
        <button id="reset" class="flex-1">Reset</button>
      </div>

      <details>
        <summary>Random Options</summary>
        <div class="flex flex-col gap-xs">
          <label class="text-sm">Mode</label>
          <select id="random-mode">
            <option value="any">Any (50/50)</option>
            <option value="light">Light Only</option>
            <option value="dark">Dark Only</option>
          </select>
          <label class="text-sm">Style</label>
          <select id="random-style">
            <option value="any">Any</option>
            <option value="flat">Flat (no shadows)</option>
            <option value="soft">Soft (shadows)</option>
          </select>
          <label class="text-sm">Corners</label>
          <select id="random-corners">
            <option value="any">Any</option>
            <option value="sharp">Sharp (0px)</option>
            <option value="rounded">Rounded (8-16px)</option>
          </select>
          <label class="text-sm">Palette</label>
          <select id="random-palette">
            <option value="any">Any</option>
            <option value="monochrome">Monochrome</option>
            <option value="colorful">Colorful</option>
          </select>
          <label class="text-sm">Primary Color</label>
          <select id="random-hue">
            <option value="any">Any</option>
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="purple">Purple</option>
            <option value="red">Red</option>
            <option value="orange">Orange</option>
            <option value="teal">Teal</option>
          </select>
        </div>
      </details>

      <div class="flex flex-col gap-sm" id="controls">
        <details open>
          <summary>Colors</summary>
          <div class="flex flex-col gap-md">
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Primary</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="primary" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="primary" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="primary" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Text Strong</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="text-strong" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="text-strong" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="text-strong" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Text Weak</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="text-weak" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="text-weak" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="text-weak" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Stroke Strong</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="stroke-strong" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="stroke-strong" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="stroke-strong" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Stroke Weak</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="stroke-weak" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="stroke-weak" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="stroke-weak" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Background</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="background" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="background" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="background" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Card</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="card" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="card" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="card" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Ancillary</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="ancillary" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="ancillary" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="ancillary" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Ancillary Content</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="ancillary-content" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="ancillary-content" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="ancillary-content" data-channel="h"></label>
            </div>
          </div>
        </details>

        <details>
          <summary>Semantic Colors</summary>
          <div class="flex flex-col gap-md">
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Info</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="info" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="info" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="info" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Success</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="success" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="success" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="success" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Warning</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="warning" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="warning" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="warning" data-channel="h"></label>
            </div>
            <div class="flex flex-col gap-xs">
              <label class="text-sm">Error</label>
              <label class="text-sm flex gap-sm items-center">L <input class="flex-1" type="range" min="0" max="1" step="0.01" data-color="error" data-channel="l"></label>
              <label class="text-sm flex gap-sm items-center">C <input class="flex-1" type="range" min="0" max="0.4" step="0.01" data-color="error" data-channel="c"></label>
              <label class="text-sm flex gap-sm items-center">H <input class="flex-1" type="range" min="0" max="360" step="1" data-color="error" data-channel="h"></label>
            </div>
          </div>
        </details>

        <details>
          <summary>Border</summary>
          <div class="flex flex-col gap-xs">
            <label class="text-sm flex gap-sm items-center">Width <input class="flex-1" type="range" min="0" max="3" step="1" data-var="border-width" data-unit="px"> <span data-value="border-width">1px</span></label>
            <label class="text-sm flex gap-sm items-center">Radius <input class="flex-1" type="range" min="0" max="24" step="1" data-var="radius" data-unit="px"> <span data-value="radius">6px</span></label>
          </div>
        </details>

        <details>
          <summary>Shadows</summary>
          <div class="flex flex-col gap-xs">
            <label class="text-sm flex gap-sm items-center">Opacity <input class="flex-1" type="range" min="0" max="0.3" step="0.01" data-var="shadow-opacity" data-unit=""> <span data-value="shadow-opacity">0.1</span></label>
          </div>
        </details>

        <details>
          <summary>Spacing</summary>
          <div class="flex flex-col gap-xs">
            <label class="text-sm flex gap-sm items-center">Body <input class="flex-1" type="range" min="0.5" max="6" step="0.25" data-var="body-spacing" data-unit="rem"> <span data-value="body-spacing">2rem</span></label>
            <label class="text-sm flex gap-sm items-center">XS <input class="flex-1" type="range" min="0.125" max="1" step="0.125" data-var="spacing-xs" data-unit="rem"> <span data-value="spacing-xs">0.25rem</span></label>
            <label class="text-sm flex gap-sm items-center">SM <input class="flex-1" type="range" min="0.25" max="1.5" step="0.125" data-var="spacing-sm" data-unit="rem"> <span data-value="spacing-sm">0.5rem</span></label>
            <label class="text-sm flex gap-sm items-center">MD <input class="flex-1" type="range" min="0.5" max="2" step="0.125" data-var="spacing-md" data-unit="rem"> <span data-value="spacing-md">1rem</span></label>
            <label class="text-sm flex gap-sm items-center">LG <input class="flex-1" type="range" min="1" max="3" step="0.125" data-var="spacing-lg" data-unit="rem"> <span data-value="spacing-lg">1.5rem</span></label>
          </div>
        </details>

        <details>
          <summary>Typography</summary>
          <div class="flex flex-col gap-xs">
            <label class="text-sm flex gap-sm items-center">Size <input class="flex-1" type="range" min="0.75" max="1.5" step="0.0625" data-var="font-size-base" data-unit="rem"> <span data-value="font-size-base">1rem</span></label>
            <label class="text-sm flex gap-sm items-center">Line H <input class="flex-1" type="range" min="1.2" max="2" step="0.1" data-var="line-height-base" data-unit=""> <span data-value="line-height-base">1.6</span></label>
            <label class="text-sm flex gap-sm items-center">Max W <input class="flex-1" type="range" min="45" max="80" step="5" data-var="paragraph-max-width" data-unit="ch" data-prefix="min(" data-suffix=", 100% - 2rem)"> <span data-value="paragraph-max-width">65ch</span></label>
          </div>
        </details>
      </div>

      <div class="flex flex-col gap-xs flex-1">
        <label class="text-sm">Config</label>
        <textarea id="config-output" class="text-sm flex-1" readonly></textarea>
        <button id="copy-config">Copy Config</button>
      </div>
    </aside>

    <main class="ml-80 p-lg flex flex-col gap-lg">
      <div id="contrast-status" style="position: fixed; top: 1rem; right: 1rem; z-index: 100;">
        <button id="contrast-btn" class="badge" popovertarget="contrast-details"></button>
        <div id="contrast-details" popover anchor="contrast-btn"></div>
      </div>
      <h1>elements.css</h1>
      <p>A CSS framework that styles HTML elements directly. Customize the variables and copy the config into your project.</p>
      <p class="text-sm" style="opacity: 0.7;">Filesize: <span id="filesize">...</span> (<span id="filesize-gzip">...</span> gzipped)</p>

      <div class="grid grid-cols-3 gap-lg">
        <div class="card shadow-md flex flex-col min-h-48" data-component="headings">
          <h3 class="flex">
            <span class="flex-1">Headings</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col justify-center" data-preview>
            <h1>Heading 1</h1>
            <h2>Heading 2</h2>
            <h3>Heading 3</h3>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;h1&gt;Heading 1&lt;/h1&gt;
&lt;h2&gt;Heading 2&lt;/h2&gt;
&lt;h3&gt;Heading 3&lt;/h3&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col col-span-2 min-h-48" data-component="paragraph">
          <h3 class="flex">
            <span class="flex-1">Paragraph</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center" data-preview>
            <p>This is a paragraph of text demonstrating the default typography styles. It uses text-wrap: pretty for better line breaks and a comfortable reading width.</p>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;p&gt;This is a paragraph of text...&lt;/p&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="link">
          <h3 class="flex">
            <span class="flex-1">Links</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col items-center justify-center gap-sm" data-preview>
            <a href="#">Primary link</a>
            <a href="#" class="link-secondary">Secondary link</a>
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;a href="#"&gt;Primary link&lt;/a&gt;
&lt;a href="#" class="link-secondary"&gt;Secondary link&lt;/a&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48 col-span-2" data-component="buttons">
          <h3 class="flex">
            <span class="flex-1">Buttons</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col items-center justify-center gap-sm" data-preview>
            <div class="flex flex-wrap gap-sm">
              <button>Primary</button>
              <button class="btn-secondary">Secondary</button>
              <button class="btn-outline">Outline</button>
              <button class="btn-ghost">Ghost</button>
              <button disabled>Disabled</button>
            </div>
            <div class="flex flex-wrap gap-sm">
              <button class="btn-info">Info</button>
              <button class="btn-success">Success</button>
              <button class="btn-warning">Warning</button>
              <button class="btn-error">Error</button>
            </div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;button&gt;Primary&lt;/button&gt;
&lt;button class="btn-secondary"&gt;Secondary&lt;/button&gt;
&lt;button class="btn-outline"&gt;Outline&lt;/button&gt;
&lt;button class="btn-ghost"&gt;Ghost&lt;/button&gt;
&lt;button class="btn-info"&gt;Info&lt;/button&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="inputs">
          <h3 class="flex">
            <span class="flex-1">Inputs</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col items-center justify-center gap-sm" data-preview>
            <input type="text" placeholder="Text input">
            <input type="text" placeholder="Disabled" disabled>
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;input type="text" placeholder="Text input"&gt;
&lt;input type="text" disabled&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="password">
          <h3 class="flex">
            <span class="flex-1">Password</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <div class="input-password">
              <input type="text" placeholder="Password" value="secret123">
              <input type="checkbox" id="pw-demo">
              <label for="pw-demo"></label>
            </div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;div class="input-password"&gt;
  &lt;input type="text" placeholder="Password"&gt;
  &lt;input type="checkbox" id="pw1"&gt;
  &lt;label for="pw1"&gt;&lt;/label&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="search">
          <h3 class="flex">
            <span class="flex-1">Search</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <input type="search" placeholder="Search..." value="query">
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;input type="search" placeholder="Search..."&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="textarea">
          <h3 class="flex">
            <span class="flex-1">Textarea</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <textarea rows="3" placeholder="Enter text here..." class="w-full"></textarea>
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;textarea rows="3"&gt;&lt;/textarea&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="select">
          <h3 class="flex">
            <span class="flex-1">Select</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <select>
              <option value="">Select a drink</option>
              <option value="coffee">Coffee</option>
              <option value="tea">Tea</option>
              <option value="water">Water</option>
              <option value="juice">Orange Juice</option>
              <option value="soda">Sparkling Water</option>
            </select>
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;select&gt;
  &lt;option value=""&gt;Select a drink&lt;/option&gt;
  &lt;option value="coffee"&gt;Coffee&lt;/option&gt;
  &lt;option value="tea"&gt;Tea&lt;/option&gt;
&lt;/select&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="range">
          <h3 class="flex">
            <span class="flex-1">Range</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <input type="range" min="0" max="100" class="w-full">
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;input type="range" min="0" max="100"&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="table">
          <h3 class="flex">
            <span class="flex-1">Table</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center" data-preview>
            <table>
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Row 1</td>
                  <td>Data</td>
                </tr>
                <tr>
                  <td>Row 2</td>
                  <td>Data</td>
                </tr>
              </tbody>
            </table>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;Row 1&lt;/td&gt;&lt;td&gt;Data&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="code">
          <h3 class="flex">
            <span class="flex-1">Code</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <p>Inline <code>code</code> styling</p>
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;code&gt;code&lt;/code&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="accordion">
          <h3 class="flex">
            <span class="flex-1">Accordion</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col justify-center gap-sm" data-preview>
            <details>
              <summary>Section 1</summary>
              <p>Content for section 1</p>
            </details>
            <details>
              <summary>Section 2</summary>
              <p>Content for section 2</p>
            </details>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;details&gt;
  &lt;summary&gt;Section 1&lt;/summary&gt;
  &lt;p&gt;Content here&lt;/p&gt;
&lt;/details&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="card">
          <h3 class="flex">
            <span class="flex-1">Card</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <div class="card">Card content</div>
          </div>
          <pre class="hidden flex-1 flex items-center justify-center" data-code><code>&lt;div class="card"&gt;Card content&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="checkbox">
          <h3 class="flex">
            <span class="flex-1">Checkbox</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col items-center justify-center gap-sm" data-preview>
            <label class="flex items-center gap-sm"><input type="checkbox" checked> Checked</label>
            <label class="flex items-center gap-sm"><input type="checkbox"> Unchecked</label>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;label class="flex items-center gap-sm"&gt;
  &lt;input type="checkbox"&gt; Label
&lt;/label&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="radio">
          <h3 class="flex">
            <span class="flex-1">Radio</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col items-center justify-center gap-sm" data-preview>
            <label class="flex items-center gap-sm"><input type="radio" name="demo" checked> Option 1</label>
            <label class="flex items-center gap-sm"><input type="radio" name="demo"> Option 2</label>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;label class="flex items-center gap-sm"&gt;
  &lt;input type="radio" name="group"&gt; Option
&lt;/label&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="dialog">
          <h3 class="flex">
            <span class="flex-1">Dialog</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <button onclick="document.getElementById('demo-dialog').showModal()">Open Dialog</button>
            <dialog id="demo-dialog" closedby="any">
              <h3>Dialog Title</h3>
              <p>This is a native HTML dialog element with backdrop blur. Click outside or press Escape to close.</p>
              <form method="dialog" class="flex gap-sm justify-center">
                <button>Close</button>
              </form>
            </dialog>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;dialog id="my-dialog" closedby="any"&gt;
  &lt;h3&gt;Title&lt;/h3&gt;
  &lt;p&gt;Content&lt;/p&gt;
  &lt;form method="dialog"&gt;
    &lt;button&gt;Close&lt;/button&gt;
  &lt;/form&gt;
&lt;/dialog&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="popover">
          <h3 class="flex">
            <span class="flex-1">Popover</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center gap-md" data-preview>
            <button id="btn-popover" popovertarget="demo-popover">Popover</button>
            <div id="demo-popover" popover anchor="btn-popover">This is a popover with more content.</div>
            <button id="btn-hint" popovertarget="demo-hint">Hint</button>
            <div id="demo-hint" popover="hint" anchor="btn-hint">Quick hint tooltip</div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;button id="btn1" popovertarget="pop1"&gt;Open&lt;/button&gt;
&lt;div id="pop1" popover anchor="btn1"&gt;Content&lt;/div&gt;

&lt;button id="btn2" popovertarget="hint1"&gt;Hint&lt;/button&gt;
&lt;div id="hint1" popover="hint" anchor="btn2"&gt;Hint&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="radio-card">
          <h3 class="flex">
            <span class="flex-1">Radio Card Group</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <div class="radio-card-group">
              <div class="radio-card">
                <input type="radio" name="plan" id="plan-basic" checked>
                <label for="plan-basic">
                  <strong>Basic</strong>
                  <span class="text-sm">$9/mo</span>
                </label>
              </div>
              <div class="radio-card">
                <input type="radio" name="plan" id="plan-pro">
                <label for="plan-pro">
                  <strong>Pro</strong>
                  <span class="text-sm">$19/mo</span>
                </label>
              </div>
              <div class="radio-card">
                <input type="radio" name="plan" id="plan-team">
                <label for="plan-team">
                  <strong>Team</strong>
                  <span class="text-sm">$49/mo</span>
                </label>
              </div>
            </div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;div class="radio-card-group"&gt;
  &lt;div class="radio-card"&gt;
    &lt;input type="radio" name="plan" id="basic" checked&gt;
    &lt;label for="basic"&gt;
      &lt;strong&gt;Basic&lt;/strong&gt;
      &lt;span&gt;$9/mo&lt;/span&gt;
    &lt;/label&gt;
  &lt;/div&gt;
  &lt;!-- more options... --&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="badges">
          <h3 class="flex">
            <span class="flex-1">Badges</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-wrap items-center justify-center gap-sm" data-preview>
            <span class="badge">Default</span>
            <span class="badge badge-info">Info</span>
            <span class="badge badge-success">Success</span>
            <span class="badge badge-warning">Warning</span>
            <span class="badge badge-error">Error</span>
            <span class="badge badge-outline">Outline</span>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;span class="badge"&gt;Default&lt;/span&gt;
&lt;span class="badge badge-info"&gt;Info&lt;/span&gt;
&lt;span class="badge badge-success"&gt;Success&lt;/span&gt;
&lt;span class="badge badge-warning"&gt;Warning&lt;/span&gt;
&lt;span class="badge badge-error"&gt;Error&lt;/span&gt;
&lt;span class="badge badge-outline"&gt;Outline&lt;/span&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="alerts">
          <h3 class="flex">
            <span class="flex-1">Alerts</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col justify-center gap-sm" data-preview>
            <div class="alert alert-info">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256" fill="currentColor"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/></svg>
              <span>This is an info alert.</span>
            </div>
            <div class="alert alert-success">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256" fill="currentColor"><path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/></svg>
              <span>This is a success alert.</span>
            </div>
            <div class="alert alert-warning">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256" fill="currentColor"><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/></svg>
              <span>This is a warning alert.</span>
            </div>
            <div class="alert alert-error">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256" fill="currentColor"><path d="M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/></svg>
              <span>This is an error alert.</span>
            </div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;div class="alert alert-info"&gt;
  &lt;svg&gt;...&lt;/svg&gt;
  &lt;span&gt;Info message&lt;/span&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="breadcrumb">
          <h3 class="flex">
            <span class="flex-1">Breadcrumb</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <nav>
              <ul class="breadcrumb">
                <li><a href="#">Home</a></li>
                <li><a href="#">Products</a></li>
                <li>Current Page</li>
              </ul>
            </nav>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;nav&gt;
  &lt;ul class="breadcrumb"&gt;
    &lt;li&gt;&lt;a href="#"&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="#"&gt;Products&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;Current Page&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="button-group">
          <h3 class="flex">
            <span class="flex-1">Button Group</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <div class="btn-group">
              <button>Left</button>
              <button>Center</button>
              <button>Right</button>
            </div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;div class="btn-group"&gt;
  &lt;button&gt;Left&lt;/button&gt;
  &lt;button&gt;Center&lt;/button&gt;
  &lt;button&gt;Right&lt;/button&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="tabs">
          <h3 class="flex">
            <span class="flex-1">Tabs</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col justify-center gap-sm" data-preview>
            <div class="tabs">
              <input type="radio" name="demo-tabs" id="demo-tab-overview" checked>
              <label for="demo-tab-overview">Overview</label>
              <input type="radio" name="demo-tabs" id="demo-tab-details">
              <label for="demo-tab-details">Details</label>
              <input type="radio" name="demo-tabs" id="demo-tab-settings">
              <label for="demo-tab-settings">Settings</label>
              <div class="tab-panel">General information and summary.</div>
              <div class="tab-panel">Detailed specifications here.</div>
              <div class="tab-panel">Configuration options.</div>
            </div>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;div class="tabs"&gt;
  &lt;input type="radio" name="tabs" id="tab1" checked&gt;
  &lt;label for="tab1"&gt;Overview&lt;/label&gt;
  &lt;input type="radio" name="tabs" id="tab2"&gt;
  &lt;label for="tab2"&gt;Details&lt;/label&gt;
  &lt;div class="tab-panel"&gt;Content A&lt;/div&gt;
  &lt;div class="tab-panel"&gt;Content B&lt;/div&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="hr">
          <h3 class="flex">
            <span class="flex-1">Horizontal Rule</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex flex-col justify-center" data-preview>
            <p>Content above</p>
            <hr>
            <p>Content below</p>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;hr&gt;</code></pre>
        </div>

        <div class="card shadow-md flex flex-col min-h-48" data-component="inline-accordion">
          <h3 class="flex">
            <span class="flex-1">Inline Accordion</span>
            <a class="text-sm cursor-pointer" data-toggle-code>show code</a>
          </h3>
          <div class="flex-1 flex items-center justify-center" data-preview>
            <p>Click <details class="inline"><summary>here</summary><span>Hidden content revealed!</span></details> to expand.</p>
          </div>
          <pre class="hidden flex-1 flex items-center" data-code><code>&lt;details class="inline"&gt;
  &lt;summary&gt;here&lt;/summary&gt;
  &lt;span&gt;Content&lt;/span&gt;
&lt;/details&gt;</code></pre>
        </div>
      </div>

      <footer class="text-sm" style="opacity: 0.6; margin-top: var(--spacing-lg);">
        Icons by <a href="https://phosphoricons.com" target="_blank">Phosphor Icons</a> (MIT License)
      </footer>
    </main>

    <script>
      const colors = {
        'primary': { l: 0.45, c: 0.18, h: 250 },
        'primary-content': { l: 0.95, c: 0.05, h: 250 },
        'text-strong': { l: 0.18, c: 0.015, h: 250 },
        'text-weak': { l: 0.32, c: 0.01, h: 250 },
        'stroke-strong': { l: 0.45, c: 0.01, h: 250 },
        'stroke-weak': { l: 0.55, c: 0.01, h: 250 },
        'background': { l: 0.98, c: 0.008, h: 250 },
        'card': { l: 0.99, c: 0.0, h: 250 },
        'ancillary': { l: 0.95, c: 0.01, h: 250 },
        'ancillary-content': { l: 0.18, c: 0.02, h: 250 },
        'info': { l: 0.45, c: 0.15, h: 230 },
        'info-content': { l: 0.95, c: 0.05, h: 230 },
        'success': { l: 0.45, c: 0.15, h: 145 },
        'success-content': { l: 0.95, c: 0.05, h: 145 },
        'warning': { l: 0.8, c: 0.15, h: 85 },
        'warning-content': { l: 0.2, c: 0.05, h: 85 },
        'error': { l: 0.45, c: 0.18, h: 25 },
        'error-content': { l: 0.95, c: 0.05, h: 25 }
      };

      function srgbLuminance(r, g, b) {
        const [rs, gs, bs] = [r, g, b].map(c => {
          c = c / 255;
          return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
        });
        return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
      }

      function wcagContrast(lum1, lum2) {
        const lighter = Math.max(lum1, lum2);
        const darker = Math.min(lum1, lum2);
        return (lighter + 0.05) / (darker + 0.05);
      }

      function apcaContrast(txtY, bgY) {
        const Ytxt = Math.pow(txtY, 0.56);
        const Ybg = Math.pow(bgY, 0.56);
        return (Ybg - Ytxt) * 100;
      }

      // OKLCH to Linear RGB conversion
      function oklchToLinearRgb(l, c, h) {
        // OKLCH to OKLab
        const hRad = h * Math.PI / 180;
        const a = c * Math.cos(hRad);
        const b = c * Math.sin(hRad);

        // OKLab to LMS
        const l_ = l + 0.3963377774 * a + 0.2158037573 * b;
        const m_ = l - 0.1055613458 * a - 0.0638541728 * b;
        const s_ = l - 0.0894841775 * a - 1.2914855480 * b;

        // LMS to Linear sRGB
        const lms_l = l_ * l_ * l_;
        const lms_m = m_ * m_ * m_;
        const lms_s = s_ * s_ * s_;

        return {
          r: +4.0767416621 * lms_l - 3.3077115913 * lms_m + 0.2309699292 * lms_s,
          g: -1.2684380046 * lms_l + 2.6097574011 * lms_m - 0.3413193965 * lms_s,
          b: -0.0041960863 * lms_l - 0.7034186147 * lms_m + 1.7076147010 * lms_s
        };
      }

      // Compute relative luminance from OKLCH color
      function oklchLuminance(l, c, h) {
        const rgb = oklchToLinearRgb(l, c, h);
        // Clamp to gamut before computing luminance
        const rc = Math.max(0, Math.min(1, rgb.r));
        const gc = Math.max(0, Math.min(1, rgb.g));
        const bc = Math.max(0, Math.min(1, rgb.b));
        return 0.2126 * rc + 0.7152 * gc + 0.0722 * bc;
      }

      // Check if two colors have sufficient contrast
      // fg and bg are color objects with {l, c, h} properties
      function hasGoodContrast(fg, bg) {
        const fgLum = oklchLuminance(fg.l, fg.c, fg.h);
        const bgLum = oklchLuminance(bg.l, bg.c, bg.h);
        const wcag = wcagContrast(fgLum, bgLum);
        const apca = Math.abs(apcaContrast(fgLum, bgLum));
        return wcag >= 4.5 && apca >= 60;
      }

      // Get a foreground lightness that contrasts well with background
      // bg is a color object {l, c, h}, returns lightness value
      // contentC and contentH are the chroma and hue for the content color being generated
      function getContrastingL(bg, preferLight, contentC = 0, contentH = 0) {
        if (preferLight) {
          // For dark backgrounds, find light foreground
          for (let l = 0.98; l >= 0.7; l -= 0.02) {
            if (hasGoodContrast({l, c: contentC, h: contentH}, bg)) return l;
          }
          return 0.98;
        } else {
          // For light backgrounds, find dark foreground
          for (let l = 0.10; l <= 0.4; l += 0.02) {
            if (hasGoodContrast({l, c: contentC, h: contentH}, bg)) return l;
          }
          return 0.10;
        }
      }

      function checkContrast() {
        const pairs = [
          { name: 'Text', fg: colors['text-strong'], bg: colors['background'] },
          { name: 'Text weak', fg: colors['text-weak'], bg: colors['background'] },
          { name: 'Text on card', fg: colors['text-strong'], bg: colors['card'] },
          { name: 'Primary on bg', fg: colors['primary'], bg: colors['background'] },
          { name: 'Primary btn', fg: colors['primary-content'], bg: colors['primary'] },
          { name: 'Info btn', fg: colors['info-content'], bg: colors['info'] },
          { name: 'Success btn', fg: colors['success-content'], bg: colors['success'] },
          { name: 'Warning btn', fg: colors['warning-content'], bg: colors['warning'] },
          { name: 'Error btn', fg: colors['error-content'], bg: colors['error'] },
          { name: 'Sidebar', fg: colors['ancillary-content'], bg: colors['ancillary'] }
        ];

        const results = [];
        for (const pair of pairs) {
          const fgLum = oklchLuminance(pair.fg.l, pair.fg.c, pair.fg.h);
          const bgLum = oklchLuminance(pair.bg.l, pair.bg.c, pair.bg.h);
          const wcag = wcagContrast(fgLum, bgLum);
          const apca = Math.abs(apcaContrast(fgLum, bgLum));
          const pass = wcag >= 4.5 && apca >= 60;
          results.push({ name: pair.name, wcag, apca, pass });
        }

        const failures = results.filter(r => !r.pass);
        const btn = document.getElementById('contrast-btn');
        const details = document.getElementById('contrast-details');

        if (failures.length > 0) {
          btn.className = 'badge badge-warning';
          btn.textContent = `⚠ ${failures.length} contrast issue${failures.length > 1 ? 's' : ''}`;
        } else {
          btn.className = 'badge badge-success';
          btn.textContent = '✓ All contrast OK';
        }

        details.innerHTML = `
          <table class="text-sm">
            <thead>
              <tr><th></th><th>Pair</th><th>Lc</th><th>Target</th><th>WCAG</th></tr>
            </thead>
            <tbody>
              ${results.map(r => `
                <tr${r.pass ? '' : ' style="color: var(--el-warning)"'}>
                  <td>${r.pass ? '✓' : '✗'}</td>
                  <td>${r.name}</td>
                  <td>${r.apca.toFixed(0)}</td>
                  <td>60</td>
                  <td>${r.wcag.toFixed(1)}:1</td>
                </tr>
              `).join('')}
            </tbody>
          </table>`;
      }

      const vars = {
        'border-width': { value: 1, unit: 'px' },
        'radius': { value: 6, unit: 'px' },
        'shadow-opacity': { value: 0.1, unit: '' },
        'body-spacing': { value: 2, unit: 'rem' },
        'spacing-xs': { value: 0.25, unit: 'rem' },
        'spacing-sm': { value: 0.5, unit: 'rem' },
        'spacing-md': { value: 1, unit: 'rem' },
        'spacing-lg': { value: 1.5, unit: 'rem' },
        'font-size-base': { value: 1, unit: 'rem' },
        'line-height-base': { value: 1.6, unit: '' },
        'paragraph-max-width': { value: 65, unit: 'ch', prefix: 'min(', suffix: ', 100% - 2rem)' }
      };

      function updateCSSVariable(name, value) {
        document.documentElement.style.setProperty(`--el-${name}`, value);
      }

      function oklchString(l, c, h) {
        return `oklch(${l.toFixed(4)} ${c.toFixed(4)} ${h.toFixed(0)})`;
      }

      function varString(name) {
        const v = vars[name];
        const val = `${v.value}${v.unit}`;
        if (v.prefix) return `${v.prefix}${val}${v.suffix || ''}`;
        return val;
      }

      function updateAllColors() {
        for (const colorName of Object.keys(colors)) {
          const color = colors[colorName];
          updateCSSVariable(colorName, oklchString(color.l, color.c, color.h));
        }
        updateConfig();
        checkContrast();
      }

      function updateVar(name) {
        const v = vars[name];
        const val = varString(name);
        if (name === 'shadow-opacity') {
          updateCSSVariable('shadow-color', `oklch(0 0 0 / ${v.value})`);
        } else {
          updateCSSVariable(name, val);
        }
        const display = document.querySelector(`[data-value="${name}"]`);
        if (display) display.textContent = `${v.value}${v.unit}`;
        updateConfig();
      }

      function updateConfig() {
        const c = colors;
        const config = `:root {
  /* Colors */
  --el-primary: ${oklchString(c['primary'].l, c['primary'].c, c['primary'].h)};
  --el-primary-content: ${oklchString(c['primary-content'].l, c['primary-content'].c, c['primary-content'].h)};
  --el-text-strong: ${oklchString(c['text-strong'].l, c['text-strong'].c, c['text-strong'].h)};
  --el-text-weak: ${oklchString(c['text-weak'].l, c['text-weak'].c, c['text-weak'].h)};
  --el-stroke-strong: ${oklchString(c['stroke-strong'].l, c['stroke-strong'].c, c['stroke-strong'].h)};
  --el-stroke-weak: ${oklchString(c['stroke-weak'].l, c['stroke-weak'].c, c['stroke-weak'].h)};
  --el-background: ${oklchString(c['background'].l, c['background'].c, c['background'].h)};
  --el-card: ${oklchString(c['card'].l, c['card'].c, c['card'].h)};
  --el-ancillary: ${oklchString(c['ancillary'].l, c['ancillary'].c, c['ancillary'].h)};
  --el-ancillary-content: ${oklchString(c['ancillary-content'].l, c['ancillary-content'].c, c['ancillary-content'].h)};

  /* Semantic Colors */
  --el-info: ${oklchString(c['info'].l, c['info'].c, c['info'].h)};
  --el-info-content: ${oklchString(c['info-content'].l, c['info-content'].c, c['info-content'].h)};
  --el-success: ${oklchString(c['success'].l, c['success'].c, c['success'].h)};
  --el-success-content: ${oklchString(c['success-content'].l, c['success-content'].c, c['success-content'].h)};
  --el-warning: ${oklchString(c['warning'].l, c['warning'].c, c['warning'].h)};
  --el-warning-content: ${oklchString(c['warning-content'].l, c['warning-content'].c, c['warning-content'].h)};
  --el-error: ${oklchString(c['error'].l, c['error'].c, c['error'].h)};
  --el-error-content: ${oklchString(c['error-content'].l, c['error-content'].c, c['error-content'].h)};

  /* Border */
  --el-border-width: ${varString('border-width')};
  --el-radius: ${varString('radius')};

  /* Shadows */
  --el-shadow-color: oklch(0 0 0 / ${vars['shadow-opacity'].value});

  /* Spacing */
  --el-spacing-xs: ${varString('spacing-xs')};
  --el-spacing-sm: ${varString('spacing-sm')};
  --el-spacing-md: ${varString('spacing-md')};
  --el-spacing-lg: ${varString('spacing-lg')};
  --el-body-spacing: ${varString('body-spacing')};

  /* Typography */
  --el-font-size-base: ${varString('font-size-base')};
  --el-line-height-base: ${varString('line-height-base')};
  --el-paragraph-max-width: ${varString('paragraph-max-width')};
}`;
        document.getElementById('config-output').value = config;
      }

      function initSliders() {
        // Color sliders
        for (const [colorName, color] of Object.entries(colors)) {
          const lSlider = document.querySelector(`input[data-color="${colorName}"][data-channel="l"]`);
          const cSlider = document.querySelector(`input[data-color="${colorName}"][data-channel="c"]`);
          const hSlider = document.querySelector(`input[data-color="${colorName}"][data-channel="h"]`);

          if (lSlider) lSlider.value = color.l;
          if (cSlider) cSlider.value = color.c;
          if (hSlider) hSlider.value = color.h;
        }

        // Var sliders
        for (const [name, v] of Object.entries(vars)) {
          const slider = document.querySelector(`input[data-var="${name}"]`);
          if (slider) slider.value = v.value;
          const display = document.querySelector(`[data-value="${name}"]`);
          if (display) display.textContent = `${v.value}${v.unit}`;
        }
      }

      function randomize() {
        const modeOpt = document.getElementById('random-mode').value;
        const styleOpt = document.getElementById('random-style').value;
        const cornersOpt = document.getElementById('random-corners').value;
        const paletteOpt = document.getElementById('random-palette').value;
        const hueOpt = document.getElementById('random-hue').value;

        const hueMap = { blue: 240, green: 145, purple: 290, red: 25, orange: 55, teal: 185 };
        const primaryHue = hueOpt === 'any' ? Math.random() * 360 : hueMap[hueOpt];

        let isDarkMode;
        if (modeOpt === 'dark') isDarkMode = true;
        else if (modeOpt === 'light') isDarkMode = false;
        else isDarkMode = Math.random() > 0.5;

        let shadowOpacity;
        if (styleOpt === 'flat') shadowOpacity = 0;
        else if (styleOpt === 'soft') shadowOpacity = 0.08 + Math.random() * 0.12;
        else shadowOpacity = Math.random() * 0.2;

        let radius;
        if (cornersOpt === 'sharp') radius = 0;
        else if (cornersOpt === 'rounded') radius = 8 + Math.floor(Math.random() * 9);
        else radius = Math.floor(Math.random() * 16);

        let chroma;
        if (paletteOpt === 'monochrome') chroma = 0;
        else if (paletteOpt === 'colorful') chroma = 0.15 + Math.random() * 0.1;
        else chroma = Math.random() > 0.3 ? 0.12 + Math.random() * 0.12 : 0;

        const textChroma = paletteOpt === 'monochrome' ? 0 : Math.random() * 0.015;

        // 1. Set background first - this anchors everything
        const tintBg = paletteOpt === 'monochrome' ? false : Math.random() > 0.4;
        colors['background'].l = isDarkMode ? 0.1 + Math.random() * 0.08 : 0.95 + Math.random() * 0.04;
        colors['background'].c = tintBg ? Math.random() * 0.015 : 0;
        colors['background'].h = tintBg ? primaryHue : 0;

        // 2. Text colors - ensure contrast with background
        colors['text-strong'].c = textChroma;
        colors['text-strong'].h = primaryHue;
        colors['text-strong'].l = getContrastingL(colors['background'], isDarkMode, colors['text-strong'].c, colors['text-strong'].h);

        // Text weak needs contrast too - find a value that passes
        colors['text-weak'].c = textChroma;
        colors['text-weak'].h = primaryHue;
        colors['text-weak'].l = isDarkMode
          ? getContrastingL(colors['background'], true, colors['text-weak'].c, colors['text-weak'].h) - 0.15
          : getContrastingL(colors['background'], false, colors['text-weak'].c, colors['text-weak'].h) + 0.1;
        // Verify and fix if needed
        if (!hasGoodContrast(colors['text-weak'], colors['background'])) {
          colors['text-weak'].l = getContrastingL(colors['background'], isDarkMode, colors['text-weak'].c, colors['text-weak'].h);
        }

        colors['stroke-strong'].l = isDarkMode ? 0.5 + Math.random() * 0.1 : 0.45 + Math.random() * 0.1;
        colors['stroke-strong'].c = textChroma;
        colors['stroke-strong'].h = primaryHue;
        colors['stroke-weak'].l = isDarkMode ? 0.4 + Math.random() * 0.1 : 0.55 + Math.random() * 0.1;
        colors['stroke-weak'].c = textChroma;
        colors['stroke-weak'].h = primaryHue;

        // 3. Card - slightly different from background, text-strong must contrast
        colors['card'].l = isDarkMode
          ? colors['background'].l + 0.03 + Math.random() * 0.03
          : Math.min(0.99, colors['background'].l + 0.01 + Math.random() * 0.02);
        colors['card'].c = colors['background'].c * 0.8;
        colors['card'].h = colors['background'].h;
        // Verify text-strong contrasts with card
        if (!hasGoodContrast(colors['text-strong'], colors['card'])) {
          colors['text-strong'].l = getContrastingL(colors['card'], isDarkMode, colors['text-strong'].c, colors['text-strong'].h);
        }

        // 4. Ancillary surface and content
        colors['ancillary'].l = isDarkMode
          ? Math.max(0.05, colors['background'].l - 0.03 - Math.random() * 0.02)
          : colors['background'].l - 0.03 - Math.random() * 0.02;
        colors['ancillary'].c = colors['background'].c * 1.2;
        colors['ancillary'].h = colors['background'].h;
        colors['ancillary-content'].c = textChroma;
        colors['ancillary-content'].h = primaryHue;
        colors['ancillary-content'].l = getContrastingL(colors['ancillary'], isDarkMode, colors['ancillary-content'].c, colors['ancillary-content'].h);

        // 5. Primary - must contrast with background
        colors['primary'].h = primaryHue;
        colors['primary'].c = chroma > 0 ? chroma : 0.15;
        // Find a primary lightness that contrasts with background
        if (isDarkMode) {
          // Dark bg: primary should be lighter
          for (let l = 0.6; l <= 0.75; l += 0.05) {
            if (hasGoodContrast({l, c: colors['primary'].c, h: colors['primary'].h}, colors['background'])) {
              colors['primary'].l = l + Math.random() * 0.05;
              break;
            }
          }
        } else {
          // Light bg: primary should be darker
          for (let l = 0.5; l >= 0.35; l -= 0.05) {
            if (hasGoodContrast({l, c: colors['primary'].c, h: colors['primary'].h}, colors['background'])) {
              colors['primary'].l = l - Math.random() * 0.05;
              break;
            }
          }
        }
        // Primary content
        colors['primary-content'].c = colors['primary'].c * 0.3;
        colors['primary-content'].h = colors['primary'].h;
        colors['primary-content'].l = getContrastingL(colors['primary'], colors['primary'].l < 0.5, colors['primary-content'].c, colors['primary-content'].h);

        // 6. Semantic colors - all need contrasting content
        const semanticChroma = paletteOpt === 'monochrome' ? 0.08 : 0.12 + Math.random() * 0.06;

        function setSemanticColor(name, hueBase, hueRange) {
          colors[name].h = hueBase + Math.random() * hueRange;
          colors[name].c = semanticChroma;
          // Use mid-range lightness that allows for contrasting content
          colors[name].l = 0.45 + Math.random() * 0.1;
          // Content color - use accurate contrast check
          const contentC = colors[name].c * 0.3;
          const contentH = colors[name].h;
          const preferLight = colors[name].l < 0.5;
          colors[`${name}-content`].l = getContrastingL(colors[name], preferLight, contentC, contentH);
          colors[`${name}-content`].c = contentC;
          colors[`${name}-content`].h = contentH;
        }

        setSemanticColor('info', 210, 30);
        setSemanticColor('success', 135, 25);
        setSemanticColor('error', 20, 15);

        // Warning is special - needs light bg with dark text
        colors['warning'].h = 75 + Math.random() * 20;
        colors['warning'].c = semanticChroma;
        colors['warning'].l = 0.75 + Math.random() * 0.1; // Light yellow/orange
        const warningContentC = colors['warning'].c * 0.3;
        const warningContentH = colors['warning'].h;
        colors['warning-content'].l = getContrastingL(colors['warning'], false, warningContentC, warningContentH); // Dark text
        colors['warning-content'].c = warningContentC;
        colors['warning-content'].h = warningContentH;

        vars['border-width'].value = Math.floor(Math.random() * 2);
        vars['radius'].value = radius;
        vars['shadow-opacity'].value = Math.round(shadowOpacity * 100) / 100;

        initSliders();
        updateAllColors();
        for (const name of Object.keys(vars)) {
          updateVar(name);
        }
      }

      const defaults = {
        colors: {
          'primary': { l: 0.45, c: 0.18, h: 250 },
          'primary-content': { l: 0.95, c: 0.05, h: 250 },
          'text-strong': { l: 0.18, c: 0.015, h: 250 },
          'text-weak': { l: 0.32, c: 0.01, h: 250 },
          'stroke-strong': { l: 0.45, c: 0.01, h: 250 },
          'stroke-weak': { l: 0.55, c: 0.01, h: 250 },
          'background': { l: 0.98, c: 0.008, h: 250 },
          'card': { l: 0.99, c: 0.0, h: 250 },
          'ancillary': { l: 0.95, c: 0.01, h: 250 },
          'ancillary-content': { l: 0.18, c: 0.02, h: 250 },
          'info': { l: 0.45, c: 0.15, h: 230 },
          'info-content': { l: 0.95, c: 0.05, h: 230 },
          'success': { l: 0.45, c: 0.15, h: 145 },
          'success-content': { l: 0.95, c: 0.05, h: 145 },
          'warning': { l: 0.8, c: 0.15, h: 85 },
          'warning-content': { l: 0.2, c: 0.05, h: 85 },
          'error': { l: 0.45, c: 0.18, h: 25 },
          'error-content': { l: 0.95, c: 0.05, h: 25 }
        },
        vars: {
          'border-width': 1,
          'radius': 6,
          'shadow-opacity': 0.1,
          'body-spacing': 2,
          'spacing-xs': 0.25,
          'spacing-sm': 0.5,
          'spacing-md': 1,
          'spacing-lg': 1.5,
          'font-size-base': 1,
          'line-height-base': 1.6,
          'paragraph-max-width': 65
        }
      };

      // Semantic colors with guaranteed contrast
      // L ~0.45 = dark enough for light content (L 0.95)
      // Warning L 0.8 = light enough for dark content (L 0.2)
      const semanticColors = {
        'info': { l: 0.45, c: 0.15, h: 230 },
        'success': { l: 0.45, c: 0.15, h: 145 },
        'warning': { l: 0.8, c: 0.15, h: 85 },
        'error': { l: 0.45, c: 0.18, h: 25 }
      };

      const presets = {
        default: {
          colors: {
            'primary': { l: 0.45, c: 0.18, h: 250 },
            'text-strong': { l: 0.18, c: 0.015, h: 250 },
            'text-weak': { l: 0.32, c: 0.01, h: 250 },
            'stroke-strong': { l: 0.45, c: 0.01, h: 250 },
            'stroke-weak': { l: 0.55, c: 0.01, h: 250 },
            'background': { l: 0.98, c: 0.008, h: 250 },
            'card': { l: 0.99, c: 0.0, h: 250 },
            'ancillary': { l: 0.95, c: 0.01, h: 250 },
            'ancillary-content': { l: 0.18, c: 0.02, h: 250 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 6, 'shadow-opacity': 0.1 }
        },
        slate: {
          colors: {
            'primary': { l: 0.35, c: 0.02, h: 250 },
            'text-strong': { l: 0.15, c: 0.01, h: 250 },
            'text-weak': { l: 0.3, c: 0.005, h: 250 },
            'stroke-strong': { l: 0.45, c: 0.005, h: 250 },
            'stroke-weak': { l: 0.55, c: 0.005, h: 250 },
            'background': { l: 0.97, c: 0.005, h: 250 },
            'card': { l: 0.98, c: 0.003, h: 250 },
            'ancillary': { l: 0.94, c: 0.006, h: 250 },
            'ancillary-content': { l: 0.18, c: 0.01, h: 250 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 4, 'shadow-opacity': 0.06 }
        },
        ocean: {
          colors: {
            'primary': { l: 0.4, c: 0.15, h: 230 },
            'text-strong': { l: 0.18, c: 0.02, h: 220 },
            'text-weak': { l: 0.32, c: 0.015, h: 220 },
            'stroke-strong': { l: 0.45, c: 0.015, h: 220 },
            'stroke-weak': { l: 0.55, c: 0.015, h: 220 },
            'background': { l: 0.97, c: 0.012, h: 220 },
            'card': { l: 0.98, c: 0.008, h: 220 },
            'ancillary': { l: 0.94, c: 0.015, h: 220 },
            'ancillary-content': { l: 0.18, c: 0.02, h: 220 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 8, 'shadow-opacity': 0.1 }
        },
        forest: {
          colors: {
            'primary': { l: 0.4, c: 0.14, h: 145 },
            'text-strong': { l: 0.18, c: 0.02, h: 145 },
            'text-weak': { l: 0.32, c: 0.015, h: 145 },
            'stroke-strong': { l: 0.45, c: 0.015, h: 145 },
            'stroke-weak': { l: 0.55, c: 0.015, h: 145 },
            'background': { l: 0.97, c: 0.01, h: 120 },
            'card': { l: 0.98, c: 0.006, h: 120 },
            'ancillary': { l: 0.94, c: 0.012, h: 120 },
            'ancillary-content': { l: 0.18, c: 0.02, h: 145 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 6, 'shadow-opacity': 0.08 }
        },
        midnight: {
          colors: {
            'primary': { l: 0.65, c: 0.15, h: 250 },
            'text-strong': { l: 0.92, c: 0.01, h: 250 },
            'text-weak': { l: 0.75, c: 0.01, h: 250 },
            'stroke-strong': { l: 0.55, c: 0.015, h: 250 },
            'stroke-weak': { l: 0.45, c: 0.015, h: 250 },
            'background': { l: 0.12, c: 0.025, h: 260 },
            'card': { l: 0.15, c: 0.02, h: 260 },
            'ancillary': { l: 0.08, c: 0.03, h: 260 },
            'ancillary-content': { l: 0.9, c: 0.015, h: 250 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 8, 'shadow-opacity': 0.2 }
        },
        carbon: {
          colors: {
            'primary': { l: 0.72, c: 0.0, h: 0 },
            'text-strong': { l: 0.92, c: 0.0, h: 0 },
            'text-weak': { l: 0.75, c: 0.0, h: 0 },
            'stroke-strong': { l: 0.5, c: 0.0, h: 0 },
            'stroke-weak': { l: 0.4, c: 0.0, h: 0 },
            'background': { l: 0.1, c: 0.0, h: 0 },
            'card': { l: 0.14, c: 0.0, h: 0 },
            'ancillary': { l: 0.06, c: 0.0, h: 0 },
            'ancillary-content': { l: 0.9, c: 0.0, h: 0 },
            ...semanticColors
          },
          vars: { 'border-width': 0, 'radius': 4, 'shadow-opacity': 0 }
        },
        cream: {
          colors: {
            'primary': { l: 0.4, c: 0.12, h: 30 },
            'text-strong': { l: 0.18, c: 0.02, h: 50 },
            'text-weak': { l: 0.32, c: 0.015, h: 50 },
            'stroke-strong': { l: 0.45, c: 0.015, h: 50 },
            'stroke-weak': { l: 0.55, c: 0.015, h: 50 },
            'background': { l: 0.96, c: 0.02, h: 80 },
            'card': { l: 0.98, c: 0.015, h: 80 },
            'ancillary': { l: 0.93, c: 0.025, h: 80 },
            'ancillary-content': { l: 0.18, c: 0.02, h: 50 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 8, 'shadow-opacity': 0.08 }
        },
        noir: {
          colors: {
            'primary': { l: 0.9, c: 0.0, h: 0 },
            'text-strong': { l: 0.92, c: 0.0, h: 0 },
            'text-weak': { l: 0.75, c: 0.0, h: 0 },
            'stroke-strong': { l: 0.55, c: 0.0, h: 0 },
            'stroke-weak': { l: 0.45, c: 0.0, h: 0 },
            'background': { l: 0.05, c: 0.0, h: 0 },
            'card': { l: 0.08, c: 0.0, h: 0 },
            'ancillary': { l: 0.03, c: 0.0, h: 0 },
            'ancillary-content': { l: 0.9, c: 0.0, h: 0 },
            ...semanticColors
          },
          vars: { 'border-width': 1, 'radius': 0, 'shadow-opacity': 0 }
        }
      };

      function applyPreset(name) {
        const preset = presets[name];
        if (!preset) return;

        // Apply colors
        for (const [colorName, val] of Object.entries(preset.colors)) {
          colors[colorName].l = val.l;
          colors[colorName].c = val.c;
          colors[colorName].h = val.h;
        }

        // Auto-generate content colors with proper contrast
        function ensureContentColor(baseName) {
          const bg = colors[baseName];
          const contentName = `${baseName}-content`;
          if (!preset.colors[contentName]) {
            // Warning always gets dark text, others depend on background lightness
            const preferLight = baseName === 'warning' ? false : (bg.l < 0.5);
            const contentC = bg.c * 0.3;
            const contentH = bg.h;
            colors[contentName].l = getContrastingL(bg, preferLight, contentC, contentH);
            colors[contentName].c = contentC;
            colors[contentName].h = bg.h;
          }
        }
        ensureContentColor('primary');
        ensureContentColor('info');
        ensureContentColor('success');
        ensureContentColor('warning');
        ensureContentColor('error');

        // Apply vars (only the ones specified in preset)
        for (const [varName, val] of Object.entries(preset.vars)) {
          vars[varName].value = val;
        }

        initSliders();
        updateAllColors();
        for (const name of Object.keys(vars)) {
          updateVar(name);
        }
      }

      function reset() {
        // Reset colors
        for (const [name, val] of Object.entries(defaults.colors)) {
          colors[name].l = val.l;
          colors[name].c = val.c;
          colors[name].h = val.h;
        }

        // Reset vars
        for (const [name, val] of Object.entries(defaults.vars)) {
          vars[name].value = val;
        }

        initSliders();
        updateAllColors();
        for (const name of Object.keys(vars)) {
          updateVar(name);
        }
      }

      // Color slider listeners
      document.querySelectorAll('input[data-color]').forEach(slider => {
        slider.addEventListener('input', (e) => {
          const colorName = e.target.dataset.color;
          const channel = e.target.dataset.channel;
          colors[colorName][channel] = parseFloat(e.target.value);
          updateCSSVariable(colorName, oklchString(colors[colorName].l, colors[colorName].c, colors[colorName].h));
          // Auto-update content color when base color changes
          if (['primary', 'info', 'success', 'warning', 'error'].includes(colorName)) {
            const bg = colors[colorName];
            const content = colors[`${colorName}-content`];
            const preferLight = colorName === 'warning' ? false : (bg.l < 0.5);
            const contentC = bg.c * 0.3;
            const contentH = bg.h;
            content.l = getContrastingL(bg, preferLight, contentC, contentH);
            content.c = contentC;
            content.h = bg.h;
            updateCSSVariable(`${colorName}-content`, oklchString(content.l, content.c, content.h));
          }
          updateConfig();
          checkContrast();
        });
      });

      // Var slider listeners
      document.querySelectorAll('input[data-var]').forEach(slider => {
        slider.addEventListener('input', (e) => {
          const name = e.target.dataset.var;
          vars[name].value = parseFloat(e.target.value);
          updateVar(name);
        });
      });

      // Copy config
      document.getElementById('copy-config').addEventListener('click', () => {
        const config = document.getElementById('config-output').value;
        navigator.clipboard.writeText(config).then(() => {
          const btn = document.getElementById('copy-config');
          const original = btn.textContent;
          btn.textContent = 'Copied!';
          setTimeout(() => btn.textContent = original, 1500);
        });
      });

      // Presets, Randomize & Reset
      document.getElementById('presets').addEventListener('change', (e) => {
        if (e.target.value) {
          applyPreset(e.target.value);
          e.target.value = '';
        }
      });
      document.getElementById('randomize').addEventListener('click', randomize);
      document.getElementById('reset').addEventListener('click', reset);
      document.getElementById('font-family').addEventListener('change', (e) => {
        document.body.style.fontFamily = e.target.value + ', sans-serif';
      });

      // Toggle code/preview
      document.querySelectorAll('[data-toggle-code]').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const card = link.closest('[data-component]');
          const preview = card.querySelector('[data-preview]');
          const code = card.querySelector('[data-code]');
          const showingCode = !code.classList.contains('hidden');

          if (showingCode) {
            code.classList.add('hidden');
            preview.classList.remove('hidden');
            link.textContent = 'show code';
          } else {
            code.classList.remove('hidden');
            preview.classList.add('hidden');
            link.textContent = 'hide code';
          }
        });
      });

      // Copy code on click
      document.querySelectorAll('[data-code] code').forEach(codeBlock => {
        codeBlock.classList.add('cursor-pointer');
        codeBlock.addEventListener('click', () => {
          navigator.clipboard.writeText(codeBlock.textContent).then(() => {
            const original = codeBlock.textContent;
            codeBlock.textContent = 'Copied!';
            setTimeout(() => codeBlock.textContent = original, 1000);
          });
        });
      });

      // Initialize
      initSliders();
      updateConfig();
      checkContrast();

      // Fetch and display filesize
      fetch('/elements.css').then(r => r.text()).then(css => {
        const bytes = new Blob([css]).size;
        document.getElementById('filesize').textContent = (bytes / 1024).toFixed(1) + ' KB';
        document.getElementById('filesize-gzip').textContent = '~' + (bytes * 0.3 / 1024).toFixed(1) + ' KB';
      });
    </script>
  </body>
</html>
